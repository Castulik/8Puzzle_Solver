if(typeof window==="undefined"){self.addEventListener("install",()=>self.skipWaiting());self.addEventListener("activate",e=>e.waitUntil(self.clients.claim()));self.addEventListener("fetch",e=>{if(e.request.cache==="only-if-cached"&&e.request.mode!=="same-origin")return;e.respondWith(fetch(e.request).then(r=>{if(r.status===0)return r;const h=new Headers(r.headers);h.set("Cross-Origin-Embedder-Policy","credentialless");h.set("Cross-Origin-Opener-Policy","same-origin");return new Response(r.body,{status:r.status,statusText:r.statusText,headers:h})}).catch(e=>console.error(e)))});
}else{const s=document.createElement("script");s.src=document.currentScript.src;s.dataset.cookie="coi";document.head.appendChild(s);if(window.crossOriginIsolated===false&&"serviceWorker"in navigator){navigator.serviceWorker.register("/8Puzzle_Solver/coi-serviceworker.js");}}
